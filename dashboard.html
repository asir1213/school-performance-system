<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… | Ù†Ø¸Ø§Ù… ØªÙ‚ÙŠÙŠÙ… Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¯Ø§Ø±Ø³</title>

<style>
body{
  margin:0;
  font-family:Tahoma, Arial;
  background:#f4f6f9;
  display:flex;
}

/* Sidebar */
.sidebar{
  width:260px;
  background:#1f3c88;
  color:#fff;
  min-height:100vh;
  padding:20px;
}
.sidebar h2{
  margin:0 0 20px;
  font-size:18px;
}
.sidebar a{
  display:block;
  color:#fff;
  text-decoration:none;
  padding:12px 14px;
  border-radius:8px;
  margin-bottom:8px;
  font-size:14px;
}
.sidebar a:hover{
  background:#2563eb;
}

/* Main */
.main{
  flex:1;
  padding:30px;
}

/* Header */
.header{
  background:#fff;
  padding:15px 25px;
  border-radius:12px;
  box-shadow:0 6px 15px rgba(0,0,0,.08);
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.header .user{
  font-size:14px;
}
.header button{
  background:#ef4444;
  color:#fff;
  border:none;
  padding:6px 12px;
  border-radius:6px;
  cursor:pointer;
}

/* Cards */
.cards{
  margin-top:25px;
  display:grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.card{
  background:#fff;
  border-radius:14px;
  padding:25px;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
  text-align:center;
}
.card h3{
  margin:0;
  font-size:14px;
  color:#555;
}
.card span{
  display:block;
  margin-top:10px;
  font-size:32px;
  font-weight:bold;
  color:#1f3c88;
}

/* Shortcuts */
.shortcuts{
  margin-top:35px;
  display:grid;
  grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
}
.shortcut{
  background:#fff;
  border-radius:14px;
  padding:22px;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
}
.shortcut h4{
  margin-top:0;
  color:#1f3c88;
}
.shortcut p{
  font-size:14px;
  color:#555;
}
.shortcut a{
  display:inline-block;
  margin-top:10px;
  background:#1f3c88;
  color:#fff;
  padding:10px 16px;
  border-radius:8px;
  text-decoration:none;
}
.shortcut a:hover{
  background:#2563eb;
}
</style>
</head>

<body>

<!-- Sidebar -->
<div class="sidebar">
  <h2>Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</h2>
  <a href="dashboard.html">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
  <a href="evidence.html">ğŸ“ Ø§Ù„Ø£Ø¯Ù„Ø©</a>
  <a href="report.html">ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</a>
  <a href="assistant.html">ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ</a>
</div>

<!-- Main -->
<div class="main">

  <div class="header">
    <div class="user">Ù…Ø±Ø­Ø¨Ù‹Ø§ ğŸ‘‹</div>
    <button onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
  </div>

  <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
  <div class="cards">
    <div class="card">
      <h3>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¯Ù„Ø©</h3>
      <span id="totalEvidences">0</span>
    </div>
    <div class="card">
      <h3>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆØ±</h3>
      <span id="axesCount">0</span>
    </div>
    <div class="card">
      <h3>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª</h3>
      <span id="domainsCount">0</span>
    </div>
    <div class="card">
      <h3>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±</h3>
      <span id="standardsCount">0</span>
    </div>
  </div>

  <!-- Ø§Ø®ØªØµØ§Ø±Ø§Øª -->
  <div class="shortcuts">
    <div class="shortcut">
      <h4>ğŸ“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯Ù„Ø©</h4>
      <p>Ø±ÙØ¹ Ø§Ù„Ø£Ø¯Ù„Ø© ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„ØªÙ‡Ø§ ÙˆØ§Ø¹ØªÙ…Ø§Ø¯Ù‡Ø§</p>
      <a href="evidence.html">Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
    </div>

    <div class="shortcut">
      <h4>ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø°ÙƒÙŠØ©</h4>
      <p>Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© + ØªØµØ¯ÙŠØ± PDF Ùˆ Excel</p>
      <a href="report.html">Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</a>
    </div>

    <div class="shortcut">
      <h4>ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ</h4>
      <p>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù‚ØªØ±Ø§Ø­ Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±</p>
      <a href="assistant.html">ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯</a>
    </div>
  </div>

</div>

<script>
// Ø­Ù…Ø§ÙŠØ©
if(!localStorage.getItem("loggedIn")){
  window.location.href="login.html";
}

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¯Ù„Ø©
const evidences = JSON.parse(localStorage.getItem("evidences")) || [];

document.getElementById("totalEvidences").innerText = evidences.length;

function countBy(key){
  const map = {};
  evidences.forEach(e=>{
    map[e[key]] = (map[e[key]] || 0) + 1;
  });
  return map;
}

document.getElementById("axesCount").innerText = Object.keys(countBy("axis")).length;
document.getElementById("domainsCount").innerText = Object.keys(countBy("domain")).length;
document.getElementById("standardsCount").innerText = Object.keys(countBy("standard")).length;

function logout(){
  localStorage.clear();
  window.location.href="login.html";
}
</script>

</body>
</html>
